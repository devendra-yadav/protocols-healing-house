<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title th:text="#{all.points.page.title}"></title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
	integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
	integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
	crossorigin="anonymous"></script>

<script type="text/javascript">
	function deletePoint(pointId){
		if(confirm('are you sure you want to delete point "'+pointId+'"?')){
			location.href="/point/delete?pointId="+pointId;
		}
	}
</script>

</head>
<body>

	<div class="container mt-3 mb-3">
		<header th:insert="header.html :: header"></header>
		<div align="center">
			<h1 align="center" th:text="#{all.points.header}"></h1>
		</div>
		<div align="center">
			<h4 align="center" style="color: green" th:text="${successMessage }"></h4>
			<h4 align="center" style="color: red" th:text="${errorMessage }"></h4>
		</div>
		<div align="center">
			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">Point ID</th>
						<th scope="col">Point Name</th>
						<th scope="col">Point English Name</th>
						<th scope="col">Meridian</th>
						<th scope="col">Location</th>
						<th scope="col">Attributes</th>
						<th scope="col">Indications</th>
						<th scope="col">Functions</th>
						<th scope="col">Needling Methods</th>
						<th scope="col">Contra Indications</th>
						<th scope="col">Local Application</th>
						<th scope="col">Miscellaneous Use</th>
						<th scope="col">Needling Combinations</th>
						<th scope="col">Notes</th>
						<th scope="col">Image</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="point: ${points}">
						<td th:text="${point.pointId}"></td>
						<td th:text="${point.name}"></td>
						<td th:text="${point.englishName}"></td>
						<td th:text="${point.meridian.name}"></td>
						<td th:text="${point.location}"></td>
						<td th:text="${point.attributes}"></td>
						<td th:text="${point.indications}"></td>
						<td th:text="${point.functions}"></td>
						<td th:text="${point.needlingMethods}"></td>
						<td th:text="${point.contraIndications}"></td>
						<td th:text="${point.localApplication}"></td>
						<td th:text="${point.miscellaneousUse}"></td>
						<td th:text="${point.needlingCombinations}"></td>
						<td th:text="${point.notes}"></td>
						<td th:text="${point.meridian.name}"></td>
						
						<td>
							<button type="button" class="btn btn-light">
								<a th:href="@{/meridian/edit/form(pointId=${point.pointId})}">Edit</a>
							</button>
							<button type="button" class="btn btn-light" th:onclick="deletePoint([[${point.pointId}]])">Delete</button>
							
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>